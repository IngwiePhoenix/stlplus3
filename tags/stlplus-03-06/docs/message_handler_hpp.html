<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta http-equiv="Content-Style-Type" content="text/css">
<title>subsystems/message_handler.hpp</title>
<meta http-equiv="generator" content="ccolour C++ colouriser by Andy Rushton">
</head>
<body lang="en">
<h1>subsystems/message_handler.hpp</h1>
<pre style="background-color: #ffffff">
<span style="color: #ff0099">    1: </span><span style="color: #990000">#ifndef</span> <span style="color: #000000">STLPLUS_MESSAGE_HANDLER</span>
<span style="color: #ff0099">    2: </span><span style="color: #990000">#define</span> <span style="color: #000000">STLPLUS_MESSAGE_HANDLER</span>
<span style="color: #ff0099">    3: </span><span style="color: #000099">////////////////////////////////////////////////////////////////////////////////</span>
<span style="color: #ff0099">    4: </span>
<span style="color: #ff0099">    5: </span><span style="color: #000099">//   Author:    Andy Rushton</span>
<span style="color: #ff0099">    6: </span><span style="color: #000099">//   Copyright: (c) Southampton University 1999-2004</span>
<span style="color: #ff0099">    7: </span><span style="color: #000099">//              (c) Andy Rushton           2004 onwards</span>
<span style="color: #ff0099">    8: </span><span style="color: #000099">//   License:   BSD License, see ../docs/license.html</span>
<span style="color: #ff0099">    9: </span>
<span style="color: #ff0099">   10: </span><span style="color: #000099">//   A general-purpose message handler using a message file as the source of all text</span>
<span style="color: #ff0099">   11: </span>
<span style="color: #ff0099">   12: </span><span style="color: #000099">////////////////////////////////////////////////////////////////////////////////</span>
<span style="color: #ff0099">   13: </span><span style="color: #990000">#include</span> <span style="color: #009900">"subsystems_fixes.hpp"</span>
<span style="color: #ff0099">   14: </span><span style="color: #990000">#include</span> <span style="color: #009900">"smart_ptr.hpp"</span>
<span style="color: #ff0099">   15: </span><span style="color: #990000">#include</span> <span style="color: #009900">&lt;iostream&gt;</span>
<span style="color: #ff0099">   16: </span><span style="color: #990000">#include</span> <span style="color: #009900">&lt;string&gt;</span>
<span style="color: #ff0099">   17: </span><span style="color: #990000">#include</span> <span style="color: #009900">&lt;vector&gt;</span>
<span style="color: #ff0099">   18: </span><span style="color: #990000">#include</span> <span style="color: #009900">&lt;stdexcept&gt;</span>
<span style="color: #ff0099">   19: </span>
<span style="color: #ff0099">   20: </span><span style="color: #990000">namespace</span> <span style="color: #000000">stlplus</span>
<span style="color: #ff0099">   21: </span><span style="color: #330033">{</span>
<span style="color: #ff0099">   22: </span>
<span style="color: #ff0099">   23: </span>  <span style="color: #000099">////////////////////////////////////////////////////////////////////////////////</span>
<span style="color: #ff0099">   24: </span>  <span style="color: #000099">// Internals</span>
<span style="color: #ff0099">   25: </span>
<span style="color: #ff0099">   26: </span>  <span style="color: #990000">class</span> <span style="color: #000000">message_handler_base</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   27: </span>  <span style="color: #990000">class</span> <span style="color: #000000">message_handler_base_body</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   28: </span>
<span style="color: #ff0099">   29: </span>  <span style="color: #990000">class</span> <span style="color: #000000">message_handler</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   30: </span>  <span style="color: #990000">class</span> <span style="color: #000000">message_handler_body</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   31: </span>
<span style="color: #ff0099">   32: </span>  <span style="color: #990000">class</span> <span style="color: #000000">message_context_body</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   33: </span>
<span style="color: #ff0099">   34: </span>  <span style="color: #000099">////////////////////////////////////////////////////////////////////////////////</span>
<span style="color: #ff0099">   35: </span>  <span style="color: #000099">// an object representing a file position</span>
<span style="color: #ff0099">   36: </span>  <span style="color: #000099">// used for example when reporting errors when parsing a text file</span>
<span style="color: #ff0099">   37: </span>
<span style="color: #ff0099">   38: </span>  <span style="color: #990000">class</span> <span style="color: #000000">message_position</span>
<span style="color: #ff0099">   39: </span>  <span style="color: #330033">{</span>
<span style="color: #ff0099">   40: </span>  <span style="color: #990000">public</span><span style="color: #330033">:</span>
<span style="color: #ff0099">   41: </span>    <span style="color: #000000">message_position</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   42: </span>    <span style="color: #000000">message_position</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">filename</span><span style="color: #330033">,</span> <span style="color: #990000">unsigned</span> <span style="color: #000000">line</span><span style="color: #330033">,</span> <span style="color: #990000">unsigned</span> <span style="color: #000000">column</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   43: </span>    <span style="color: #330033">~</span><span style="color: #000000">message_position</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   44: </span>
<span style="color: #ff0099">   45: </span>    <span style="color: #000099">// access the elements of the position</span>
<span style="color: #ff0099">   46: </span>    <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">filename</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span> <span style="color: #990000">const</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   47: </span>    <span style="color: #000099">// line number in the range 1..n</span>
<span style="color: #ff0099">   48: </span>    <span style="color: #000099">// so line 0 means uninitialised</span>
<span style="color: #ff0099">   49: </span>    <span style="color: #990000">unsigned</span> <span style="color: #000000">line</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span> <span style="color: #990000">const</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   50: </span>    <span style="color: #000099">// column number in the range 0..m-1</span>
<span style="color: #ff0099">   51: </span>    <span style="color: #990000">unsigned</span> <span style="color: #000000">column</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span> <span style="color: #990000">const</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   52: </span>
<span style="color: #ff0099">   53: </span>    <span style="color: #000099">// add a column offset to a position</span>
<span style="color: #ff0099">   54: </span>    <span style="color: #000000">message_position</span> <span style="color: #990000">operator</span> <span style="color: #330033">+</span> <span style="color: #330033">(</span><span style="color: #990000">unsigned</span><span style="color: #330033">)</span> <span style="color: #990000">const</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   55: </span>    <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span> <span style="color: #990000">operator</span> <span style="color: #330033">+</span><span style="color: #330033">=</span> <span style="color: #330033">(</span><span style="color: #990000">unsigned</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   56: </span>
<span style="color: #ff0099">   57: </span>    <span style="color: #000099">// tests for valid position</span>
<span style="color: #ff0099">   58: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">empty</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span> <span style="color: #990000">const</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   59: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">valid</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span> <span style="color: #990000">const</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   60: </span>
<span style="color: #ff0099">   61: </span>    <span style="color: #000099">// vector of two strings</span>
<span style="color: #ff0099">   62: </span>    <span style="color: #000099">// - the first reproducing the source line</span>
<span style="color: #ff0099">   63: </span>    <span style="color: #000099">// - the second an arrow pointing to the correct column</span>
<span style="color: #ff0099">   64: </span>    <span style="color: #000099">// the vector will be empty if the position can't be found</span>
<span style="color: #ff0099">   65: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">show</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span> <span style="color: #990000">const</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   66: </span>
<span style="color: #ff0099">   67: </span>  <span style="color: #990000">private</span><span style="color: #330033">:</span>
<span style="color: #ff0099">   68: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span> <span style="color: #000000">m_filename</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   69: </span>    <span style="color: #990000">unsigned</span> <span style="color: #000000">m_line</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   70: </span>    <span style="color: #990000">unsigned</span> <span style="color: #000000">m_column</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   71: </span>  <span style="color: #330033">}</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   72: </span>
<span style="color: #ff0099">   73: </span>  <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span> <span style="color: #000000">to_string</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span> <span style="color: #000000">where</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   74: </span>
<span style="color: #ff0099">   75: </span>  <span style="color: #000099">//////////////////////////////////////////////////////////////////////////////</span>
<span style="color: #ff0099">   76: </span>  <span style="color: #000099">// an object representing an message context</span>
<span style="color: #ff0099">   77: </span>  <span style="color: #000099">// used to control the context stack</span>
<span style="color: #ff0099">   78: </span>  <span style="color: #000099">// on initialisation, the message_context stores the state of the context stack</span>
<span style="color: #ff0099">   79: </span>  <span style="color: #000099">// on destruction it restores the state by popping any context that has been pushed since creation</span>
<span style="color: #ff0099">   80: </span>
<span style="color: #ff0099">   81: </span>  <span style="color: #990000">class</span> <span style="color: #000000">message_context</span>
<span style="color: #ff0099">   82: </span>  <span style="color: #330033">{</span>
<span style="color: #ff0099">   83: </span>  <span style="color: #990000">public</span><span style="color: #330033">:</span>
<span style="color: #ff0099">   84: </span>    <span style="color: #000000">message_context</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_base</span><span style="color: #330033">&amp;</span> <span style="color: #000000">handler</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   85: </span>
<span style="color: #ff0099">   86: </span>    <span style="color: #990000">void</span> <span style="color: #000000">set</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_base</span><span style="color: #330033">&amp;</span> <span style="color: #000000">handler</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   87: </span>    <span style="color: #990000">void</span> <span style="color: #000000">pop</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   88: </span>
<span style="color: #ff0099">   89: </span>  <span style="color: #990000">private</span><span style="color: #330033">:</span>
<span style="color: #ff0099">   90: </span>    <span style="color: #990000">friend</span> <span style="color: #990000">class</span> <span style="color: #000000">message_context_body</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   91: </span>    <span style="color: #990000">friend</span> <span style="color: #990000">class</span> <span style="color: #000000">message_handler_base</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   92: </span>    <span style="color: #000000">smart_ptr_nocopy</span><span style="color: #330033">&lt;</span><span style="color: #000000">message_context_body</span><span style="color: #330033">&gt;</span> <span style="color: #000000">m_body</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   93: </span>  <span style="color: #330033">}</span><span style="color: #330033">;</span>
<span style="color: #ff0099">   94: </span>
<span style="color: #ff0099">   95: </span>  <span style="color: #000099">////////////////////////////////////////////////////////////////////////////////</span>
<span style="color: #ff0099">   96: </span>  <span style="color: #000099">// exception classes which can be thrown by the message handler</span>
<span style="color: #ff0099">   97: </span>
<span style="color: #ff0099">   98: </span>  <span style="color: #000099">// read_error is thrown if the message file read fails</span>
<span style="color: #ff0099">   99: </span>  <span style="color: #990000">class</span> <span style="color: #000000">message_handler_read_error</span> <span style="color: #330033">:</span> <span style="color: #990000">public</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">runtime_error</span>
<span style="color: #ff0099">  100: </span>  <span style="color: #330033">{</span>
<span style="color: #ff0099">  101: </span>  <span style="color: #990000">public</span><span style="color: #330033">:</span>
<span style="color: #ff0099">  102: </span>    <span style="color: #000000">message_handler_read_error</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span> <span style="color: #000000">position</span><span style="color: #330033">,</span> <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">reason</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  103: </span>    <span style="color: #330033">~</span><span style="color: #000000">message_handler_read_error</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span> <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  104: </span>
<span style="color: #ff0099">  105: </span>    <span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span> <span style="color: #000000">where</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span> <span style="color: #990000">const</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  106: </span>
<span style="color: #ff0099">  107: </span>  <span style="color: #990000">private</span><span style="color: #330033">:</span>
<span style="color: #ff0099">  108: </span>    <span style="color: #000000">message_position</span> <span style="color: #000000">m_position</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  109: </span>  <span style="color: #330033">}</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  110: </span>
<span style="color: #ff0099">  111: </span>  <span style="color: #000099">// format_error is thrown if a formatting error occurs trying to create the text for the message</span>
<span style="color: #ff0099">  112: </span>
<span style="color: #ff0099">  113: </span>  <span style="color: #990000">class</span> <span style="color: #000000">message_handler_format_error</span> <span style="color: #330033">:</span> <span style="color: #990000">public</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">runtime_error</span>
<span style="color: #ff0099">  114: </span>  <span style="color: #330033">{</span>
<span style="color: #ff0099">  115: </span>  <span style="color: #990000">public</span><span style="color: #330033">:</span>
<span style="color: #ff0099">  116: </span>    <span style="color: #000000">message_handler_format_error</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">format</span><span style="color: #330033">,</span> <span style="color: #990000">unsigned</span> <span style="color: #000000">offset</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  117: </span>    <span style="color: #000000">message_handler_format_error</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span> <span style="color: #000000">pos</span><span style="color: #330033">,</span> <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">format</span><span style="color: #330033">,</span> <span style="color: #990000">unsigned</span> <span style="color: #000000">offset</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  118: </span>    <span style="color: #330033">~</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span> <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  119: </span>
<span style="color: #ff0099">  120: </span>    <span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span> <span style="color: #000000">where</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span> <span style="color: #990000">const</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  121: </span>    <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">format</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span> <span style="color: #990000">const</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  122: </span>    <span style="color: #990000">unsigned</span> <span style="color: #000000">offset</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span> <span style="color: #990000">const</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  123: </span>
<span style="color: #ff0099">  124: </span>  <span style="color: #990000">private</span><span style="color: #330033">:</span>
<span style="color: #ff0099">  125: </span>    <span style="color: #000000">message_position</span> <span style="color: #000000">m_position</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  126: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span> <span style="color: #000000">m_format</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  127: </span>    <span style="color: #990000">unsigned</span> <span style="color: #000000">m_offset</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  128: </span>  <span style="color: #330033">}</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  129: </span>
<span style="color: #ff0099">  130: </span>  <span style="color: #000099">// id_error is thrown if an error id is requested that could not be found in the message file</span>
<span style="color: #ff0099">  131: </span>
<span style="color: #ff0099">  132: </span>  <span style="color: #990000">class</span> <span style="color: #000000">message_handler_id_error</span> <span style="color: #330033">:</span> <span style="color: #990000">public</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">runtime_error</span>
<span style="color: #ff0099">  133: </span>  <span style="color: #330033">{</span>
<span style="color: #ff0099">  134: </span>  <span style="color: #990000">public</span><span style="color: #330033">:</span>
<span style="color: #ff0099">  135: </span>    <span style="color: #000000">message_handler_id_error</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  136: </span>    <span style="color: #330033">~</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span> <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  137: </span>
<span style="color: #ff0099">  138: </span>    <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span> <span style="color: #990000">const</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  139: </span>
<span style="color: #ff0099">  140: </span>  <span style="color: #990000">private</span><span style="color: #330033">:</span>
<span style="color: #ff0099">  141: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span> <span style="color: #000000">m_id</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  142: </span>  <span style="color: #330033">}</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  143: </span>
<span style="color: #ff0099">  144: </span>  <span style="color: #000099">// limit_error is thrown when the number of errors reaches the error limit</span>
<span style="color: #ff0099">  145: </span>
<span style="color: #ff0099">  146: </span>  <span style="color: #990000">class</span> <span style="color: #000000">message_handler_limit_error</span> <span style="color: #330033">:</span> <span style="color: #990000">public</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">runtime_error</span>
<span style="color: #ff0099">  147: </span>  <span style="color: #330033">{</span>
<span style="color: #ff0099">  148: </span>  <span style="color: #990000">public</span><span style="color: #330033">:</span>
<span style="color: #ff0099">  149: </span>    <span style="color: #000000">message_handler_limit_error</span><span style="color: #330033">(</span><span style="color: #990000">unsigned</span> <span style="color: #000000">limit</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  150: </span>    <span style="color: #330033">~</span><span style="color: #000000">message_handler_limit_error</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span> <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  151: </span>
<span style="color: #ff0099">  152: </span>    <span style="color: #990000">unsigned</span> <span style="color: #000000">limit</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span> <span style="color: #990000">const</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  153: </span>
<span style="color: #ff0099">  154: </span>  <span style="color: #990000">private</span><span style="color: #330033">:</span>
<span style="color: #ff0099">  155: </span>    <span style="color: #990000">unsigned</span> <span style="color: #000000">m_limit</span><span style="color: #330033">;</span>   <span style="color: #000099">// the limit that was exceeded</span>
<span style="color: #ff0099">  156: </span>  <span style="color: #330033">}</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  157: </span>
<span style="color: #ff0099">  158: </span>  <span style="color: #000099">// fatal_error is thrown when a fatal error is reported</span>
<span style="color: #ff0099">  159: </span>
<span style="color: #ff0099">  160: </span>  <span style="color: #990000">class</span> <span style="color: #000000">message_handler_fatal_error</span> <span style="color: #330033">:</span> <span style="color: #990000">public</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">runtime_error</span>
<span style="color: #ff0099">  161: </span>  <span style="color: #330033">{</span>
<span style="color: #ff0099">  162: </span>  <span style="color: #990000">public</span><span style="color: #330033">:</span>
<span style="color: #ff0099">  163: </span>    <span style="color: #000000">message_handler_fatal_error</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  164: </span>    <span style="color: #330033">~</span><span style="color: #000000">message_handler_fatal_error</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span> <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  165: </span>
<span style="color: #ff0099">  166: </span>    <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span> <span style="color: #990000">const</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  167: </span>
<span style="color: #ff0099">  168: </span>  <span style="color: #990000">private</span><span style="color: #330033">:</span>
<span style="color: #ff0099">  169: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span> <span style="color: #000000">m_id</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  170: </span>  <span style="color: #330033">}</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  171: </span>
<span style="color: #ff0099">  172: </span>  <span style="color: #000099">////////////////////////////////////////////////////////////////////////////////</span>
<span style="color: #ff0099">  173: </span>  <span style="color: #000099">// base version returns message objects as vectors of strings</span>
<span style="color: #ff0099">  174: </span>  <span style="color: #000099">// - it is then up to the user to decide what to do with them</span>
<span style="color: #ff0099">  175: </span>  <span style="color: #000099">// - suitable for use in a GUI for example where the message is displayed in a dialog</span>
<span style="color: #ff0099">  176: </span>
<span style="color: #ff0099">  177: </span>  <span style="color: #990000">class</span> <span style="color: #000000">message_handler_base</span>
<span style="color: #ff0099">  178: </span>  <span style="color: #330033">{</span>
<span style="color: #ff0099">  179: </span>  <span style="color: #990000">public</span><span style="color: #330033">:</span>
<span style="color: #ff0099">  180: </span>    <span style="color: #000099">//////////////////////////////////////////////////////////////////////////////</span>
<span style="color: #ff0099">  181: </span>    <span style="color: #000099">// constructor</span>
<span style="color: #ff0099">  182: </span>
<span style="color: #ff0099">  183: </span>    <span style="color: #000099">// The first form sets the show flag but doesn't load any message files.</span>
<span style="color: #ff0099">  184: </span>    <span style="color: #000099">// The second and third forms also read message file(s) by calling</span>
<span style="color: #ff0099">  185: </span>    <span style="color: #000099">// add_message_file and therefore can throw exceptions. The first form</span>
<span style="color: #ff0099">  186: </span>    <span style="color: #000099">// defers file reading to explicit calls of add_message_file so does not</span>
<span style="color: #ff0099">  187: </span>    <span style="color: #000099">// throw any exceptions.</span>
<span style="color: #ff0099">  188: </span>
<span style="color: #ff0099">  189: </span>    <span style="color: #000099">// show determines whether the source file line containing the source of a problem should also be shown</span>
<span style="color: #ff0099">  190: </span>
<span style="color: #ff0099">  191: </span>    <span style="color: #000000">message_handler_base</span><span style="color: #330033">(</span><span style="color: #990000">bool</span> <span style="color: #000000">show</span> <span style="color: #330033">=</span> <span style="color: #990000">true</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  192: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  193: </span>
<span style="color: #ff0099">  194: </span>    <span style="color: #000000">message_handler_base</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">message_file</span><span style="color: #330033">,</span> <span style="color: #990000">bool</span> <span style="color: #000000">show</span> <span style="color: #330033">=</span> <span style="color: #990000">true</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  195: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_read_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  196: </span>
<span style="color: #ff0099">  197: </span>    <span style="color: #000000">message_handler_base</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span><span style="color: #330033">&amp;</span> <span style="color: #000000">message_files</span><span style="color: #330033">,</span> <span style="color: #990000">bool</span> <span style="color: #000000">show</span> <span style="color: #330033">=</span> <span style="color: #990000">true</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  198: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_read_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  199: </span>
<span style="color: #ff0099">  200: </span>    <span style="color: #990000">virtual</span> <span style="color: #330033">~</span><span style="color: #000000">message_handler_base</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  201: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  202: </span>
<span style="color: #ff0099">  203: </span>    <span style="color: #000099">//////////////////////////////////////////////////////////////////////////////</span>
<span style="color: #ff0099">  204: </span>    <span style="color: #000099">// message file handling</span>
<span style="color: #ff0099">  205: </span>
<span style="color: #ff0099">  206: </span>    <span style="color: #000099">// The message file format contains lines of the form:</span>
<span style="color: #ff0099">  207: </span>    <span style="color: #000099">//</span>
<span style="color: #ff0099">  208: </span>    <span style="color: #000099">// &lt;id&gt; &lt;spaces&gt; &lt;text&gt;</span>
<span style="color: #ff0099">  209: </span>    <span style="color: #000099">//</span>
<span style="color: #ff0099">  210: </span>    <span style="color: #000099">// In &lt;id&gt; is a unique mnemonic for the message. It starts with an</span>
<span style="color: #ff0099">  211: </span>    <span style="color: #000099">// alphabetic character and may contain alphanumerics and underscores only.</span>
<span style="color: #ff0099">  212: </span>    <span style="color: #000099">// The &lt;spaces&gt; can be one or more space or tab characters. The &lt;text&gt; is the</span>
<span style="color: #ff0099">  213: </span>    <span style="color: #000099">// remainder of the line and is plain text (not a quoted string). All lines</span>
<span style="color: #ff0099">  214: </span>    <span style="color: #000099">// starting with a non-alphabetic character are assumed to be comments and are</span>
<span style="color: #ff0099">  215: </span>    <span style="color: #000099">// ignored</span>
<span style="color: #ff0099">  216: </span>
<span style="color: #ff0099">  217: </span>    <span style="color: #000099">// If the message file is missing the function throws read_error with no line</span>
<span style="color: #ff0099">  218: </span>    <span style="color: #000099">// number. If formatting errors were found in the file,then it throws a</span>
<span style="color: #ff0099">  219: </span>    <span style="color: #000099">// read_error with valid line information.</span>
<span style="color: #ff0099">  220: </span>
<span style="color: #ff0099">  221: </span>    <span style="color: #000099">// Any number of message files can be added and they accumulate</span>
<span style="color: #ff0099">  222: </span>
<span style="color: #ff0099">  223: </span>    <span style="color: #990000">void</span> <span style="color: #000000">add_message_file</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">message_file</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  224: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_read_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  225: </span>
<span style="color: #ff0099">  226: </span>    <span style="color: #990000">void</span> <span style="color: #000000">add_message_files</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span><span style="color: #330033">&amp;</span> <span style="color: #000000">message_files</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  227: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_read_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  228: </span>
<span style="color: #ff0099">  229: </span>    <span style="color: #990000">void</span> <span style="color: #000000">add_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span> <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">text</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  230: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  231: </span>
<span style="color: #ff0099">  232: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">message_present</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">)</span> <span style="color: #990000">const</span>
<span style="color: #ff0099">  233: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  234: </span>
<span style="color: #ff0099">  235: </span>    <span style="color: #000099">//////////////////////////////////////////////////////////////////////////////</span>
<span style="color: #ff0099">  236: </span>    <span style="color: #000099">// format control</span>
<span style="color: #ff0099">  237: </span>
<span style="color: #ff0099">  238: </span>    <span style="color: #000099">// The status formats - that is, information/warning/error/fatal/context/supplement</span>
<span style="color: #ff0099">  239: </span>    <span style="color: #000099">// formats take a single argument which is the formatted message</span>
<span style="color: #ff0099">  240: </span>    <span style="color: #000099">// For example: "warning: @0"</span>
<span style="color: #ff0099">  241: </span>    <span style="color: #000099">//</span>
<span style="color: #ff0099">  242: </span>    <span style="color: #000099">// Messages may be printed as either simple or positional</span>
<span style="color: #ff0099">  243: </span>    <span style="color: #000099">//   simple:     just a text message, such as a progress report</span>
<span style="color: #ff0099">  244: </span>    <span style="color: #000099">//   positional: a message relating to a source file line</span>
<span style="color: #ff0099">  245: </span>    <span style="color: #000099">// The formatted message text is generated directly for simple messages</span>
<span style="color: #ff0099">  246: </span>    <span style="color: #000099">// However, for positional messages, this text is further substituted</span>
<span style="color: #ff0099">  247: </span>    <span style="color: #000099">// into a positional format string.</span>
<span style="color: #ff0099">  248: </span>    <span style="color: #000099">// The positional format string takes up to 4 arguments:</span>
<span style="color: #ff0099">  249: </span>    <span style="color: #000099">//   @0: simple message text</span>
<span style="color: #ff0099">  250: </span>    <span style="color: #000099">//   @1: filename</span>
<span style="color: #ff0099">  251: </span>    <span style="color: #000099">//   @2: line number</span>
<span style="color: #ff0099">  252: </span>    <span style="color: #000099">//   @3: column number</span>
<span style="color: #ff0099">  253: </span>    <span style="color: #000099">// You can miss out a part of this (e.g. the column number)</span>
<span style="color: #ff0099">  254: </span>    <span style="color: #000099">// by simply not including the argument number in the format string</span>
<span style="color: #ff0099">  255: </span>    <span style="color: #000099">// For example: "file: @1, line: @2: @0"</span>
<span style="color: #ff0099">  256: </span>    <span style="color: #000099">//</span>
<span style="color: #ff0099">  257: </span>    <span style="color: #000099">// The default formats are:</span>
<span style="color: #ff0099">  258: </span>    <span style="color: #000099">//   information: "@0"</span>
<span style="color: #ff0099">  259: </span>    <span style="color: #000099">//   warning:     "warning: @0"</span>
<span style="color: #ff0099">  260: </span>    <span style="color: #000099">//   error:       "error: @0"</span>
<span style="color: #ff0099">  261: </span>    <span style="color: #000099">//   fatal:       "FATAL: @0"</span>
<span style="color: #ff0099">  262: </span>    <span style="color: #000099">//   context:     "context: @0"</span>
<span style="color: #ff0099">  263: </span>    <span style="color: #000099">//   supplement:  "supplement: @0"</span>
<span style="color: #ff0099">  264: </span>    <span style="color: #000099">//</span>
<span style="color: #ff0099">  265: </span>    <span style="color: #000099">//   positional:  "\"@1\" (@2,@3) : @0"</span>
<span style="color: #ff0099">  266: </span>
<span style="color: #ff0099">  267: </span>    <span style="color: #990000">void</span> <span style="color: #000000">set_information_format</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">format</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  268: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  269: </span>
<span style="color: #ff0099">  270: </span>    <span style="color: #990000">void</span> <span style="color: #000000">set_warning_format</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">format</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  271: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  272: </span>
<span style="color: #ff0099">  273: </span>    <span style="color: #990000">void</span> <span style="color: #000000">set_error_format</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">format</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  274: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  275: </span>
<span style="color: #ff0099">  276: </span>    <span style="color: #990000">void</span> <span style="color: #000000">set_fatal_format</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">format</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  277: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  278: </span>
<span style="color: #ff0099">  279: </span>    <span style="color: #990000">void</span> <span style="color: #000000">set_context_format</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">format</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  280: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  281: </span>
<span style="color: #ff0099">  282: </span>    <span style="color: #990000">void</span> <span style="color: #000000">set_supplement_format</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">format</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  283: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  284: </span>
<span style="color: #ff0099">  285: </span>    <span style="color: #990000">void</span> <span style="color: #000000">set_position_format</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">format</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  286: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  287: </span>
<span style="color: #ff0099">  288: </span>    <span style="color: #000099">//////////////////////////////////////////////////////////////////////////////</span>
<span style="color: #ff0099">  289: </span>    <span style="color: #000099">// source file position display control</span>
<span style="color: #ff0099">  290: </span>    <span style="color: #000099">// show_position indicates that the source file line containing the error</span>
<span style="color: #ff0099">  291: </span>    <span style="color: #000099">//   should be shown with the message on subsequent lines</span>
<span style="color: #ff0099">  292: </span>    <span style="color: #000099">// hide_position indicates that the source file line should not be shown</span>
<span style="color: #ff0099">  293: </span>
<span style="color: #ff0099">  294: </span>    <span style="color: #990000">void</span> <span style="color: #000000">show_position</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  295: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  296: </span>
<span style="color: #ff0099">  297: </span>    <span style="color: #990000">void</span> <span style="color: #000000">hide_position</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  298: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  299: </span>
<span style="color: #ff0099">  300: </span>    <span style="color: #000099">//////////////////////////////////////////////////////////////////////////////</span>
<span style="color: #ff0099">  301: </span>    <span style="color: #000099">// Message formatting functions</span>
<span style="color: #ff0099">  302: </span>    <span style="color: #000099">// These functions return a vector of strings containing the completed message</span>
<span style="color: #ff0099">  303: </span>
<span style="color: #ff0099">  304: </span>    <span style="color: #000099">// There are 6 classes of message: information, context, supplement, warning, error, fatal</span>
<span style="color: #ff0099">  305: </span>    <span style="color: #000099">// The 4 main classes are:</span>
<span style="color: #ff0099">  306: </span>    <span style="color: #000099">//   - information: progress messages, status messages etc.</span>
<span style="color: #ff0099">  307: </span>    <span style="color: #000099">//   - warning: a problem has been found but there is a sensible way of proceeding</span>
<span style="color: #ff0099">  308: </span>    <span style="color: #000099">//   - error: a problem has been found and the operation will fail</span>
<span style="color: #ff0099">  309: </span>    <span style="color: #000099">//            processing may continue but only to find further errors</span>
<span style="color: #ff0099">  310: </span>    <span style="color: #000099">//   - fatal: an internal (programming) error has been found and the operation is stopping NOW</span>
<span style="color: #ff0099">  311: </span>    <span style="color: #000099">// The remaining two always follow one of the above</span>
<span style="color: #ff0099">  312: </span>    <span style="color: #000099">//   - context: give stack-like information of the error context </span>
<span style="color: #ff0099">  313: </span>    <span style="color: #000099">//              e.g. if processing include files, the sequence of includes forms a stack</span>
<span style="color: #ff0099">  314: </span>    <span style="color: #000099">//   - supplement: give extra information of the error context</span>
<span style="color: #ff0099">  315: </span>    <span style="color: #000099">//              e.g. give the set of possible solutions to the problem</span>
<span style="color: #ff0099">  316: </span>
<span style="color: #ff0099">  317: </span>    <span style="color: #000099">// There are 2 kinds of message: simple, positional</span>
<span style="color: #ff0099">  318: </span>    <span style="color: #000099">//   - simple: just a text message</span>
<span style="color: #ff0099">  319: </span>    <span style="color: #000099">//   - positional: a message relating to a source file and a specific position in that file</span>
<span style="color: #ff0099">  320: </span>    <span style="color: #000099">// This gives 8 variants. </span>
<span style="color: #ff0099">  321: </span>    <span style="color: #000099">// Note: a positional message with an empty position is treated as a simple message</span>
<span style="color: #ff0099">  322: </span>
<span style="color: #ff0099">  323: </span>    <span style="color: #000099">// Messages can have arguments.</span>
<span style="color: #ff0099">  324: </span>    <span style="color: #000099">// All arguments are strings.</span>
<span style="color: #ff0099">  325: </span>    <span style="color: #000099">// For each variant there are 5 functions relating to different numbers of arguments.</span>
<span style="color: #ff0099">  326: </span>    <span style="color: #000099">//   - general form: takes any number of arguments as a vector of strings</span>
<span style="color: #ff0099">  327: </span>    <span style="color: #000099">//   - 0 arguments: takes no arguments</span>
<span style="color: #ff0099">  328: </span>    <span style="color: #000099">//   - 1 argument: allows a single argument</span>
<span style="color: #ff0099">  329: </span>    <span style="color: #000099">//   - 2 arguments: allows two arguments</span>
<span style="color: #ff0099">  330: </span>    <span style="color: #000099">//   - 3 arguments: allows three arguments</span>
<span style="color: #ff0099">  331: </span>    <span style="color: #000099">// For more than 3 arguments, use the general form</span>
<span style="color: #ff0099">  332: </span>
<span style="color: #ff0099">  333: </span>    <span style="color: #000099">// information messages</span>
<span style="color: #ff0099">  334: </span>
<span style="color: #ff0099">  335: </span>    <span style="color: #000099">// simple messages</span>
<span style="color: #ff0099">  336: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">information_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  337: </span>                                                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span><span style="color: #330033">&amp;</span> <span style="color: #000000">args</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  338: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  339: </span>
<span style="color: #ff0099">  340: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">information_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  341: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  342: </span>
<span style="color: #ff0099">  343: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">information_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  344: </span>                                                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  345: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  346: </span>
<span style="color: #ff0099">  347: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">information_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  348: </span>                                                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  349: </span>                                                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  350: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  351: </span>
<span style="color: #ff0099">  352: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">information_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  353: </span>                                                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  354: </span>                                                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  355: </span>                                                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg3</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  356: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  357: </span>
<span style="color: #ff0099">  358: </span>    <span style="color: #000099">// positional messages</span>
<span style="color: #ff0099">  359: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">information_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  360: </span>                                                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  361: </span>                                                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span><span style="color: #330033">&amp;</span> <span style="color: #000000">args</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  362: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  363: </span>
<span style="color: #ff0099">  364: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">information_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  365: </span>                                                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  366: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  367: </span>
<span style="color: #ff0099">  368: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">information_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  369: </span>                                                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  370: </span>                                                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  371: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  372: </span>
<span style="color: #ff0099">  373: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">information_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  374: </span>                                                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  375: </span>                                                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  376: </span>                                                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  377: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  378: </span>
<span style="color: #ff0099">  379: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">information_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  380: </span>                                                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  381: </span>                                                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  382: </span>                                                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  383: </span>                                                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg3</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  384: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  385: </span>
<span style="color: #ff0099">  386: </span>    <span style="color: #000099">// warning messages</span>
<span style="color: #ff0099">  387: </span>
<span style="color: #ff0099">  388: </span>    <span style="color: #000099">// simple messages</span>
<span style="color: #ff0099">  389: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">warning_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  390: </span>                                             <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span><span style="color: #330033">&amp;</span> <span style="color: #000000">args</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  391: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  392: </span>
<span style="color: #ff0099">  393: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">warning_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  394: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  395: </span>
<span style="color: #ff0099">  396: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">warning_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  397: </span>                                             <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  398: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  399: </span>
<span style="color: #ff0099">  400: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">warning_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  401: </span>                                             <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  402: </span>                                             <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  403: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  404: </span>
<span style="color: #ff0099">  405: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">warning_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  406: </span>                                             <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  407: </span>                                             <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  408: </span>                                             <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg3</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  409: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  410: </span>
<span style="color: #ff0099">  411: </span>    <span style="color: #000099">// positional messages</span>
<span style="color: #ff0099">  412: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">warning_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  413: </span>                                             <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  414: </span>                                             <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span><span style="color: #330033">&amp;</span> <span style="color: #000000">args</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  415: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  416: </span>
<span style="color: #ff0099">  417: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">warning_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  418: </span>                                             <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  419: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  420: </span>
<span style="color: #ff0099">  421: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">warning_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  422: </span>                                             <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  423: </span>                                             <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  424: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  425: </span>
<span style="color: #ff0099">  426: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">warning_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  427: </span>                                             <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  428: </span>                                             <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  429: </span>                                             <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  430: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  431: </span>
<span style="color: #ff0099">  432: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">warning_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  433: </span>                                             <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  434: </span>                                             <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  435: </span>                                             <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  436: </span>                                             <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg3</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  437: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  438: </span>
<span style="color: #ff0099">  439: </span>    <span style="color: #000099">// error messages</span>
<span style="color: #ff0099">  440: </span>
<span style="color: #ff0099">  441: </span>    <span style="color: #000099">// simple messages</span>
<span style="color: #ff0099">  442: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">error_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  443: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span><span style="color: #330033">&amp;</span> <span style="color: #000000">args</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  444: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  445: </span>
<span style="color: #ff0099">  446: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">error_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  447: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  448: </span>
<span style="color: #ff0099">  449: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">error_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  450: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  451: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  452: </span>
<span style="color: #ff0099">  453: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">error_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  454: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  455: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  456: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  457: </span>
<span style="color: #ff0099">  458: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">error_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  459: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  460: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  461: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg3</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  462: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  463: </span>
<span style="color: #ff0099">  464: </span>    <span style="color: #000099">// positional messages</span>
<span style="color: #ff0099">  465: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">error_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  466: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  467: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span><span style="color: #330033">&amp;</span> <span style="color: #000000">args</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  468: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  469: </span>
<span style="color: #ff0099">  470: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">error_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  471: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  472: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  473: </span>
<span style="color: #ff0099">  474: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">error_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  475: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  476: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  477: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  478: </span>
<span style="color: #ff0099">  479: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">error_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  480: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  481: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  482: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  483: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  484: </span>
<span style="color: #ff0099">  485: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">error_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  486: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  487: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  488: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  489: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg3</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  490: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  491: </span>
<span style="color: #ff0099">  492: </span>    <span style="color: #000099">// fatal messages</span>
<span style="color: #ff0099">  493: </span>    <span style="color: #000099">// Note that these do not throw the fatal_error exception because that would prevent the message being reported</span>
<span style="color: #ff0099">  494: </span>    <span style="color: #000099">// the caller should throw the exception after reporting the message</span>
<span style="color: #ff0099">  495: </span>
<span style="color: #ff0099">  496: </span>    <span style="color: #000099">// simple messages</span>
<span style="color: #ff0099">  497: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">fatal_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  498: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span><span style="color: #330033">&amp;</span> <span style="color: #000000">args</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  499: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  500: </span>
<span style="color: #ff0099">  501: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">fatal_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  502: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  503: </span>
<span style="color: #ff0099">  504: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">fatal_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  505: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  506: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  507: </span>
<span style="color: #ff0099">  508: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">fatal_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  509: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  510: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  511: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  512: </span>
<span style="color: #ff0099">  513: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">fatal_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  514: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  515: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  516: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg3</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  517: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  518: </span>
<span style="color: #ff0099">  519: </span>    <span style="color: #000099">// positional messages</span>
<span style="color: #ff0099">  520: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">fatal_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  521: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  522: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span><span style="color: #330033">&amp;</span> <span style="color: #000000">args</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  523: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  524: </span>
<span style="color: #ff0099">  525: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">fatal_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  526: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  527: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  528: </span>
<span style="color: #ff0099">  529: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">fatal_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  530: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  531: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  532: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  533: </span>
<span style="color: #ff0099">  534: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">fatal_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  535: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  536: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  537: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  538: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  539: </span>
<span style="color: #ff0099">  540: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span> <span style="color: #000000">fatal_message</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  541: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  542: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  543: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  544: </span>                                           <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg3</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  545: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  546: </span>
<span style="color: #ff0099">  547: </span>    <span style="color: #000099">// supplement messages - these must be pushed *before* the message that they apply to</span>
<span style="color: #ff0099">  548: </span>
<span style="color: #ff0099">  549: </span>    <span style="color: #000099">// simple messages</span>
<span style="color: #ff0099">  550: </span>    <span style="color: #990000">void</span> <span style="color: #000000">push_supplement</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  551: </span>                         <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span><span style="color: #330033">&amp;</span> <span style="color: #000000">args</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  552: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  553: </span>
<span style="color: #ff0099">  554: </span>    <span style="color: #990000">void</span> <span style="color: #000000">push_supplement</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  555: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  556: </span>
<span style="color: #ff0099">  557: </span>    <span style="color: #990000">void</span> <span style="color: #000000">push_supplement</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  558: </span>                         <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  559: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  560: </span>
<span style="color: #ff0099">  561: </span>    <span style="color: #990000">void</span> <span style="color: #000000">push_supplement</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  562: </span>                         <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  563: </span>                         <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  564: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  565: </span>
<span style="color: #ff0099">  566: </span>    <span style="color: #990000">void</span> <span style="color: #000000">push_supplement</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  567: </span>                         <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  568: </span>                         <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  569: </span>                         <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg3</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  570: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  571: </span>
<span style="color: #ff0099">  572: </span>    <span style="color: #000099">// positional messages</span>
<span style="color: #ff0099">  573: </span>    <span style="color: #990000">void</span> <span style="color: #000000">push_supplement</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  574: </span>                         <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  575: </span>                         <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span><span style="color: #330033">&amp;</span> <span style="color: #000000">args</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  576: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  577: </span>
<span style="color: #ff0099">  578: </span>    <span style="color: #990000">void</span> <span style="color: #000000">push_supplement</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  579: </span>                         <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  580: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  581: </span>
<span style="color: #ff0099">  582: </span>    <span style="color: #990000">void</span> <span style="color: #000000">push_supplement</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  583: </span>                         <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  584: </span>                         <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  585: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  586: </span>
<span style="color: #ff0099">  587: </span>    <span style="color: #990000">void</span> <span style="color: #000000">push_supplement</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  588: </span>                         <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  589: </span>                         <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  590: </span>                         <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  591: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  592: </span>
<span style="color: #ff0099">  593: </span>    <span style="color: #990000">void</span> <span style="color: #000000">push_supplement</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  594: </span>                         <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  595: </span>                         <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  596: </span>                         <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  597: </span>                         <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg3</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  598: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  599: </span>
<span style="color: #ff0099">  600: </span>    <span style="color: #000099">//////////////////////////////////////////////////////////////////////////////</span>
<span style="color: #ff0099">  601: </span>    <span style="color: #000099">// context stack - allows supplementary messages to be printed after each message showing where it came from</span>
<span style="color: #ff0099">  602: </span>    <span style="color: #000099">// for example, an message whilst inlining a function could be followed by a "function called from..." message</span>
<span style="color: #ff0099">  603: </span>
<span style="color: #ff0099">  604: </span>    <span style="color: #000099">// simple context messages</span>
<span style="color: #ff0099">  605: </span>    <span style="color: #990000">void</span> <span style="color: #000000">push_context</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  606: </span>                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span><span style="color: #330033">&amp;</span> <span style="color: #000000">args</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  607: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  608: </span>
<span style="color: #ff0099">  609: </span>    <span style="color: #990000">void</span> <span style="color: #000000">push_context</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  610: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  611: </span>
<span style="color: #ff0099">  612: </span>    <span style="color: #990000">void</span> <span style="color: #000000">push_context</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  613: </span>                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  614: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  615: </span>
<span style="color: #ff0099">  616: </span>    <span style="color: #990000">void</span> <span style="color: #000000">push_context</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  617: </span>                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  618: </span>                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  619: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  620: </span>
<span style="color: #ff0099">  621: </span>    <span style="color: #990000">void</span> <span style="color: #000000">push_context</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  622: </span>                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  623: </span>                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  624: </span>                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg3</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  625: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  626: </span>
<span style="color: #ff0099">  627: </span>    <span style="color: #000099">// positional context messages</span>
<span style="color: #ff0099">  628: </span>    <span style="color: #990000">void</span> <span style="color: #000000">push_context</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  629: </span>                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  630: </span>                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span><span style="color: #330033">&amp;</span> <span style="color: #000000">args</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  631: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  632: </span>
<span style="color: #ff0099">  633: </span>    <span style="color: #990000">void</span> <span style="color: #000000">push_context</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  634: </span>                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  635: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  636: </span>
<span style="color: #ff0099">  637: </span>    <span style="color: #990000">void</span> <span style="color: #000000">push_context</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  638: </span>                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  639: </span>                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  640: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  641: </span>
<span style="color: #ff0099">  642: </span>    <span style="color: #990000">void</span> <span style="color: #000000">push_context</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  643: </span>                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  644: </span>                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  645: </span>                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  646: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  647: </span>
<span style="color: #ff0099">  648: </span>    <span style="color: #990000">void</span> <span style="color: #000000">push_context</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  649: </span>                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  650: </span>                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  651: </span>                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  652: </span>                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg3</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  653: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  654: </span>
<span style="color: #ff0099">  655: </span>    <span style="color: #990000">unsigned</span> <span style="color: #000000">context_depth</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span> <span style="color: #990000">const</span>
<span style="color: #ff0099">  656: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  657: </span>
<span style="color: #ff0099">  658: </span>    <span style="color: #000099">// remove the last level of context if there is one</span>
<span style="color: #ff0099">  659: </span>    <span style="color: #990000">void</span> <span style="color: #000000">pop_context</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  660: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  661: </span>    <span style="color: #000099">// remove context messages to the specified depth</span>
<span style="color: #ff0099">  662: </span>    <span style="color: #990000">void</span> <span style="color: #000000">pop_context</span><span style="color: #330033">(</span><span style="color: #990000">unsigned</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  663: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  664: </span>
<span style="color: #ff0099">  665: </span>    <span style="color: #000099">// push the context and save it in the message_context handle. When the</span>
<span style="color: #ff0099">  666: </span>    <span style="color: #000099">// message_context handle goes out of scope, the context is popped</span>
<span style="color: #ff0099">  667: </span>    <span style="color: #000099">// automatically</span>
<span style="color: #ff0099">  668: </span>
<span style="color: #ff0099">  669: </span>    <span style="color: #000099">// simple context messages</span>
<span style="color: #ff0099">  670: </span>    <span style="color: #000000">message_context</span> <span style="color: #000000">auto_push_context</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  671: </span>                                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span><span style="color: #330033">&amp;</span> <span style="color: #000000">args</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  672: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  673: </span>
<span style="color: #ff0099">  674: </span>    <span style="color: #000000">message_context</span> <span style="color: #000000">auto_push_context</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  675: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  676: </span>
<span style="color: #ff0099">  677: </span>    <span style="color: #000000">message_context</span> <span style="color: #000000">auto_push_context</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  678: </span>                                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  679: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  680: </span>
<span style="color: #ff0099">  681: </span>    <span style="color: #000000">message_context</span> <span style="color: #000000">auto_push_context</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  682: </span>                                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  683: </span>                                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  684: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  685: </span>
<span style="color: #ff0099">  686: </span>    <span style="color: #000000">message_context</span> <span style="color: #000000">auto_push_context</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  687: </span>                                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  688: </span>                                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  689: </span>                                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg3</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  690: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  691: </span>
<span style="color: #ff0099">  692: </span>    <span style="color: #000099">// positional context messages</span>
<span style="color: #ff0099">  693: </span>    <span style="color: #000000">message_context</span> <span style="color: #000000">auto_push_context</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  694: </span>                                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  695: </span>                                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span><span style="color: #330033">&amp;</span> <span style="color: #000000">args</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  696: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  697: </span>
<span style="color: #ff0099">  698: </span>    <span style="color: #000000">message_context</span> <span style="color: #000000">auto_push_context</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  699: </span>                                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  700: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  701: </span>
<span style="color: #ff0099">  702: </span>    <span style="color: #000000">message_context</span> <span style="color: #000000">auto_push_context</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  703: </span>                                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  704: </span>                                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  705: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  706: </span>
<span style="color: #ff0099">  707: </span>    <span style="color: #000000">message_context</span> <span style="color: #000000">auto_push_context</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  708: </span>                                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  709: </span>                                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  710: </span>                                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  711: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  712: </span>
<span style="color: #ff0099">  713: </span>    <span style="color: #000000">message_context</span> <span style="color: #000000">auto_push_context</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  714: </span>                                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  715: </span>                                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  716: </span>                                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  717: </span>                                      <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg3</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  718: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  719: </span>
<span style="color: #ff0099">  720: </span>  <span style="color: #990000">private</span><span style="color: #330033">:</span>
<span style="color: #ff0099">  721: </span>    <span style="color: #990000">friend</span> <span style="color: #990000">class</span> <span style="color: #000000">message_handler_base_body</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  722: </span>    <span style="color: #000000">smart_ptr_nocopy</span><span style="color: #330033">&lt;</span><span style="color: #000000">message_handler_base_body</span><span style="color: #330033">&gt;</span> <span style="color: #000000">m_base_body</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  723: </span>  <span style="color: #330033">}</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  724: </span>
<span style="color: #ff0099">  725: </span>  <span style="color: #000099">////////////////////////////////////////////////////////////////////////////////</span>
<span style="color: #ff0099">  726: </span>  <span style="color: #000099">// iostream-based derivative uses the above base class to generate messages then uses iostream to print them</span>
<span style="color: #ff0099">  727: </span>  <span style="color: #000099">// Note: since this is a public derivative, all message_handler_base operations are also available</span>
<span style="color: #ff0099">  728: </span>
<span style="color: #ff0099">  729: </span>  <span style="color: #990000">class</span> <span style="color: #000000">message_handler</span> <span style="color: #330033">:</span> <span style="color: #990000">public</span> <span style="color: #000000">message_handler_base</span>
<span style="color: #ff0099">  730: </span>  <span style="color: #330033">{</span>
<span style="color: #ff0099">  731: </span>  <span style="color: #990000">public</span><span style="color: #330033">:</span>
<span style="color: #ff0099">  732: </span>    <span style="color: #000099">//////////////////////////////////////////////////////////////////////////////</span>
<span style="color: #ff0099">  733: </span>    <span style="color: #000099">// constructor</span>
<span style="color: #ff0099">  734: </span>
<span style="color: #ff0099">  735: </span>    <span style="color: #000099">// The device is the output on which to print the error. For command-line tools</span>
<span style="color: #ff0099">  736: </span>    <span style="color: #000099">// it will be either std::cout (standard output) or std::cerr (standard error) from</span>
<span style="color: #ff0099">  737: </span>    <span style="color: #000099">// &lt;iostream&gt;.</span>
<span style="color: #ff0099">  738: </span>
<span style="color: #ff0099">  739: </span>    <span style="color: #000099">// The second and third form also reads a message file by calling</span>
<span style="color: #ff0099">  740: </span>    <span style="color: #000099">// add_message_file and therefore can throw exceptions. The first form</span>
<span style="color: #ff0099">  741: </span>    <span style="color: #000099">// defers file reading to explicit calls of add_message_file so does not</span>
<span style="color: #ff0099">  742: </span>    <span style="color: #000099">// throw any exceptions.</span>
<span style="color: #ff0099">  743: </span>
<span style="color: #ff0099">  744: </span>    <span style="color: #000099">// limit sets the error limit - zero disables this feature</span>
<span style="color: #ff0099">  745: </span>    <span style="color: #000099">// show determines whether the source file line containing the error should also be shown</span>
<span style="color: #ff0099">  746: </span>
<span style="color: #ff0099">  747: </span>    <span style="color: #000000">message_handler</span><span style="color: #330033">(</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">ostream</span><span style="color: #330033">&amp;</span> <span style="color: #000000">device</span><span style="color: #330033">,</span><span style="color: #990000">unsigned</span> <span style="color: #000000">limit</span> <span style="color: #330033">=</span> <span style="color: #993399">0</span><span style="color: #330033">,</span><span style="color: #990000">bool</span> <span style="color: #000000">show</span> <span style="color: #330033">=</span> <span style="color: #990000">true</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  748: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  749: </span>
<span style="color: #ff0099">  750: </span>    <span style="color: #000000">message_handler</span><span style="color: #330033">(</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">ostream</span><span style="color: #330033">&amp;</span> <span style="color: #000000">device</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  751: </span>                    <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">message_file</span><span style="color: #330033">,</span><span style="color: #990000">unsigned</span> <span style="color: #000000">limit</span> <span style="color: #330033">=</span> <span style="color: #993399">0</span><span style="color: #330033">,</span><span style="color: #990000">bool</span> <span style="color: #000000">show</span> <span style="color: #330033">=</span> <span style="color: #990000">true</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  752: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_read_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  753: </span>
<span style="color: #ff0099">  754: </span>    <span style="color: #000000">message_handler</span><span style="color: #330033">(</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">ostream</span><span style="color: #330033">&amp;</span> <span style="color: #000000">device</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  755: </span>                    <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span><span style="color: #330033">&amp;</span> <span style="color: #000000">message_files</span><span style="color: #330033">,</span><span style="color: #990000">unsigned</span> <span style="color: #000000">limit</span> <span style="color: #330033">=</span> <span style="color: #993399">0</span><span style="color: #330033">,</span><span style="color: #990000">bool</span> <span style="color: #000000">show</span> <span style="color: #330033">=</span> <span style="color: #990000">true</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  756: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_read_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  757: </span>
<span style="color: #ff0099">  758: </span>    <span style="color: #330033">~</span><span style="color: #000000">message_handler</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  759: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  760: </span>
<span style="color: #ff0099">  761: </span>    <span style="color: #000099">//////////////////////////////////////////////////////////////////////////////</span>
<span style="color: #ff0099">  762: </span>    <span style="color: #000099">// error count and error limits</span>
<span style="color: #ff0099">  763: </span>
<span style="color: #ff0099">  764: </span>    <span style="color: #990000">void</span> <span style="color: #000000">set_error_limit</span><span style="color: #330033">(</span><span style="color: #990000">unsigned</span> <span style="color: #000000">error_limit</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  765: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  766: </span>
<span style="color: #ff0099">  767: </span>    <span style="color: #990000">unsigned</span> <span style="color: #000000">error_limit</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span> <span style="color: #990000">const</span>
<span style="color: #ff0099">  768: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  769: </span>
<span style="color: #ff0099">  770: </span>    <span style="color: #990000">void</span> <span style="color: #000000">reset_error_count</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  771: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  772: </span>
<span style="color: #ff0099">  773: </span>    <span style="color: #990000">unsigned</span> <span style="color: #000000">error_count</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span> <span style="color: #990000">const</span>
<span style="color: #ff0099">  774: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  775: </span>
<span style="color: #ff0099">  776: </span>    <span style="color: #000099">//////////////////////////////////////////////////////////////////////////////</span>
<span style="color: #ff0099">  777: </span>    <span style="color: #000099">// access the output device for whatever reason (for example, to ensure that</span>
<span style="color: #ff0099">  778: </span>    <span style="color: #000099">// text output goes wherever the messages go)</span>
<span style="color: #ff0099">  779: </span>
<span style="color: #ff0099">  780: </span>    <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">ostream</span><span style="color: #330033">&amp;</span> <span style="color: #000000">device</span><span style="color: #330033">(</span><span style="color: #990000">void</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  781: </span>
<span style="color: #ff0099">  782: </span>    <span style="color: #000099">//////////////////////////////////////////////////////////////////////////////</span>
<span style="color: #ff0099">  783: </span>    <span style="color: #000099">// Message reporting functions</span>
<span style="color: #ff0099">  784: </span>    <span style="color: #000099">// These are based on the error formatting functions in the baseclass</span>
<span style="color: #ff0099">  785: </span>
<span style="color: #ff0099">  786: </span>    <span style="color: #000099">// information messages</span>
<span style="color: #ff0099">  787: </span>
<span style="color: #ff0099">  788: </span>    <span style="color: #000099">// simple messages</span>
<span style="color: #ff0099">  789: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">information</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  790: </span>                     <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span><span style="color: #330033">&amp;</span> <span style="color: #000000">args</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  791: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  792: </span>
<span style="color: #ff0099">  793: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">information</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  794: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  795: </span>
<span style="color: #ff0099">  796: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">information</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  797: </span>                     <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  798: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  799: </span>
<span style="color: #ff0099">  800: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">information</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  801: </span>                     <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  802: </span>                     <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  803: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  804: </span>
<span style="color: #ff0099">  805: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">information</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  806: </span>                     <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  807: </span>                     <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  808: </span>                     <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg3</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  809: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  810: </span>
<span style="color: #ff0099">  811: </span>    <span style="color: #000099">// positional messages</span>
<span style="color: #ff0099">  812: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">information</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  813: </span>                     <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  814: </span>                     <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span><span style="color: #330033">&amp;</span> <span style="color: #000000">args</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  815: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  816: </span>
<span style="color: #ff0099">  817: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">information</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  818: </span>                     <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  819: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  820: </span>
<span style="color: #ff0099">  821: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">information</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  822: </span>                     <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  823: </span>                     <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  824: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  825: </span>
<span style="color: #ff0099">  826: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">information</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  827: </span>                     <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  828: </span>                     <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  829: </span>                     <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  830: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  831: </span>
<span style="color: #ff0099">  832: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">information</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  833: </span>                     <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  834: </span>                     <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  835: </span>                     <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  836: </span>                     <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg3</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  837: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  838: </span>
<span style="color: #ff0099">  839: </span>    <span style="color: #000099">// warning messages</span>
<span style="color: #ff0099">  840: </span>
<span style="color: #ff0099">  841: </span>    <span style="color: #000099">// simple messages</span>
<span style="color: #ff0099">  842: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">warning</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  843: </span>                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span><span style="color: #330033">&amp;</span> <span style="color: #000000">args</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  844: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  845: </span>
<span style="color: #ff0099">  846: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">warning</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  847: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  848: </span>
<span style="color: #ff0099">  849: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">warning</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  850: </span>                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  851: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  852: </span>
<span style="color: #ff0099">  853: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">warning</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  854: </span>                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  855: </span>                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  856: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  857: </span>
<span style="color: #ff0099">  858: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">warning</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  859: </span>                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  860: </span>                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  861: </span>                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg3</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  862: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  863: </span>
<span style="color: #ff0099">  864: </span>    <span style="color: #000099">// positional messages</span>
<span style="color: #ff0099">  865: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">warning</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  866: </span>                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  867: </span>                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span><span style="color: #330033">&amp;</span> <span style="color: #000000">args</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  868: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  869: </span>
<span style="color: #ff0099">  870: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">warning</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  871: </span>                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  872: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  873: </span>
<span style="color: #ff0099">  874: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">warning</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  875: </span>                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  876: </span>                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  877: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  878: </span>
<span style="color: #ff0099">  879: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">warning</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  880: </span>                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  881: </span>                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  882: </span>                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  883: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  884: </span>
<span style="color: #ff0099">  885: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">warning</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  886: </span>                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  887: </span>                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  888: </span>                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  889: </span>                 <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg3</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  890: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  891: </span>
<span style="color: #ff0099">  892: </span>    <span style="color: #000099">// error messages</span>
<span style="color: #ff0099">  893: </span>
<span style="color: #ff0099">  894: </span>    <span style="color: #000099">// simple messages</span>
<span style="color: #ff0099">  895: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">error</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  896: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span><span style="color: #330033">&amp;</span> <span style="color: #000000">args</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  897: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_limit_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  898: </span>
<span style="color: #ff0099">  899: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">error</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  900: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_limit_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  901: </span>
<span style="color: #ff0099">  902: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">error</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  903: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  904: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_limit_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  905: </span>
<span style="color: #ff0099">  906: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">error</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  907: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  908: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  909: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_limit_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  910: </span>
<span style="color: #ff0099">  911: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">error</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  912: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  913: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  914: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg3</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  915: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_limit_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  916: </span>
<span style="color: #ff0099">  917: </span>    <span style="color: #000099">// positional messages</span>
<span style="color: #ff0099">  918: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">error</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  919: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  920: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span><span style="color: #330033">&amp;</span> <span style="color: #000000">args</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  921: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_limit_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  922: </span>
<span style="color: #ff0099">  923: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">error</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  924: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  925: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_limit_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  926: </span>
<span style="color: #ff0099">  927: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">error</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  928: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  929: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  930: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_limit_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  931: </span>
<span style="color: #ff0099">  932: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">error</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  933: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  934: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  935: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  936: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_limit_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  937: </span>
<span style="color: #ff0099">  938: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">error</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  939: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  940: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  941: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  942: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg3</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  943: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_limit_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  944: </span>
<span style="color: #ff0099">  945: </span>    <span style="color: #000099">// fatal messages</span>
<span style="color: #ff0099">  946: </span>    <span style="color: #000099">// These report the error and then always throw the fatal_error exception</span>
<span style="color: #ff0099">  947: </span>
<span style="color: #ff0099">  948: </span>    <span style="color: #000099">// simple messages</span>
<span style="color: #ff0099">  949: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">fatal</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  950: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span><span style="color: #330033">&amp;</span> <span style="color: #000000">args</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  951: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_fatal_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  952: </span>
<span style="color: #ff0099">  953: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">fatal</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  954: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_fatal_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  955: </span>
<span style="color: #ff0099">  956: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">fatal</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  957: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  958: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_fatal_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  959: </span>
<span style="color: #ff0099">  960: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">fatal</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  961: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  962: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  963: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_fatal_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  964: </span>
<span style="color: #ff0099">  965: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">fatal</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  966: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  967: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  968: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg3</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  969: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_fatal_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  970: </span>
<span style="color: #ff0099">  971: </span>    <span style="color: #000099">// positional messages</span>
<span style="color: #ff0099">  972: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">fatal</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  973: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  974: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">vector</span><span style="color: #330033">&lt;</span><span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&gt;</span><span style="color: #330033">&amp;</span> <span style="color: #000000">args</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  975: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_fatal_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  976: </span>
<span style="color: #ff0099">  977: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">fatal</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  978: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  979: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_fatal_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  980: </span>
<span style="color: #ff0099">  981: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">fatal</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  982: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  983: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  984: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_fatal_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  985: </span>
<span style="color: #ff0099">  986: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">fatal</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  987: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  988: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  989: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  990: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_fatal_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  991: </span>
<span style="color: #ff0099">  992: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">fatal</span><span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">message_position</span><span style="color: #330033">&amp;</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  993: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">id</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  994: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg1</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  995: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg2</span><span style="color: #330033">,</span>
<span style="color: #ff0099">  996: </span>               <span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">arg3</span><span style="color: #330033">)</span>
<span style="color: #ff0099">  997: </span>      <span style="color: #990000">throw</span><span style="color: #330033">(</span><span style="color: #000000">message_handler_id_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_format_error</span><span style="color: #330033">,</span><span style="color: #000000">message_handler_fatal_error</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099">  998: </span>
<span style="color: #ff0099">  999: </span>    <span style="color: #000099">//////////////////////////////////////////////////////////////////////////////</span>
<span style="color: #ff0099"> 1000: </span>    <span style="color: #000099">// plain text output</span>
<span style="color: #ff0099"> 1001: </span>    <span style="color: #000099">// provides a simple way of outputting text from the program to the same device as the messages</span>
<span style="color: #ff0099"> 1002: </span>    <span style="color: #000099">// Each call of plaintext is treated as a line of text and has a newline appended</span>
<span style="color: #ff0099"> 1003: </span>
<span style="color: #ff0099"> 1004: </span>    <span style="color: #990000">bool</span> <span style="color: #000000">plaintext</span> <span style="color: #330033">(</span><span style="color: #990000">const</span> <span style="color: #000000">std</span><span style="color: #330033">::</span><span style="color: #000000">string</span><span style="color: #330033">&amp;</span> <span style="color: #000000">text</span><span style="color: #330033">)</span><span style="color: #330033">;</span>
<span style="color: #ff0099"> 1005: </span>
<span style="color: #ff0099"> 1006: </span>  <span style="color: #990000">private</span><span style="color: #330033">:</span>
<span style="color: #ff0099"> 1007: </span>    <span style="color: #990000">friend</span> <span style="color: #990000">class</span> <span style="color: #000000">message_handler_body</span><span style="color: #330033">;</span>
<span style="color: #ff0099"> 1008: </span>    <span style="color: #000000">smart_ptr_nocopy</span><span style="color: #330033">&lt;</span><span style="color: #000000">message_handler_body</span><span style="color: #330033">&gt;</span> <span style="color: #000000">m_body</span><span style="color: #330033">;</span>
<span style="color: #ff0099"> 1009: </span>  <span style="color: #330033">}</span><span style="color: #330033">;</span>
<span style="color: #ff0099"> 1010: </span>
<span style="color: #ff0099"> 1011: </span>  <span style="color: #000099">////////////////////////////////////////////////////////////////////////////////</span>
<span style="color: #ff0099"> 1012: </span>
<span style="color: #ff0099"> 1013: </span><span style="color: #330033">}</span> <span style="color: #000099">// end namespace stlplus</span>
<span style="color: #ff0099"> 1014: </span>
<span style="color: #ff0099"> 1015: </span><span style="color: #990000">#endif</span>
</pre>
</body>
</html>
